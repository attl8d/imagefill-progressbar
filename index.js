!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=function(){function t(){this.init()}return t.prototype.init=function(){this.initHalloween(),this.initCity()},t.prototype.initHalloween=function(){return i(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return t={backgroundSrc:"./assets/images/pumpkin_outline.png",foregroundSrc:"./assets/images/pumpkin_filled.png",animationDurationMs:1e3,numericDisplayFormatter:function(t){var e=new Date(2019,9,31).getTime(),n=(new Date).getTime(),i=new Date(e-n);return'\n        <h1>Time until Halloween:</h1>\n          <div class="halloween-value">\n            '+i.getMonth()+" Month\n            "+i.getDate()+" Days\n            "+i.getHours()+" Hours\n            "+i.getMinutes()+" Minutes\n            "+i.getSeconds()+" Seconds\n          </div>"},showNumericDisplay:!0,container:".halloween-section"},[4,(e=new o.ImageFillProgressBar(t)).init()];case 1:return n.sent(),this.startHalloweenCountdown(e),[2]}}))}))},t.prototype.initCity=function(){return i(this,void 0,void 0,(function(){var t,e;return r(this,(function(n){switch(n.label){case 0:return t={backgroundSrc:"./assets/images/city_bw.png",foregroundSrc:"./assets/images/city.png",animationDurationMs:1e3,numericDisplayFormatter:function(t){return'\n           <div style="\n           color: white;\n           width: 50px;\n           height: 50px;\n           border-radius: 50%;\n           text-align: center;\n           line-height: 50px;\n           background-color: #68998A;\n           font-weight: bold;\n           ">'+Math.floor(t).toString()+"</div>\n      "},showNumericDisplay:!0,container:".city-section"},[4,(e=new o.ImageFillProgressBar(t)).init()];case 1:return n.sent(),function t(){var n=0,i=setInterval((function(){e.update(n),100===n&&(clearInterval(i),t()),n+=25}),700)}(),[2]}}))}))},t.prototype.startHalloweenCountdown=function(t){var e=(new Date).getFullYear();setInterval((function(){var n=new Date(e-1,9,31).getTime(),i=new Date(e,9,31).getTime(),r=(new Date).getTime(),o=Math.round((r-n)/(i-n)*1e4)/100;t.update(o)}),1e3)},t}();e.Examples=a,new a},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=function(){function t(t){void 0===t&&(t={}),this.ratio=window.devicePixelRatio||1,this.browserRefreshRate=1e3/60,this.config={animationDurationMs:1e3,onComplete:function(){},easingFunction:o.easingFunctions.easeOutQuint,showNumericDisplay:!0,numericDisplayFormatter:function(t){return Math.floor(t).toString()},backgroundSrc:null,foregroundSrc:null,container:""},this.currentX=0,this.progress=0,this.previousProgress=0,this.requestAnimationId=null,this.template='\n    <section class="imagefill-progressbar"\n             style="\n                position: relative;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                flex-direction: column;\n             ">\n        <canvas></canvas>\n        <div class="numeric-display-wrapper" style="text-align: center">\n            <div class="numeric-display"></div>\n        </div>\n    </section>\n  ',this.config=Object.assign({},this.config,t)}return Object.defineProperty(t.prototype,"imageSize",{get:function(){return{imageWidth:this.foreground.width,imageHeight:this.foreground.height}},enumerable:!0,configurable:!0}),t.prototype.update=function(t){this.previousProgress=this.progress,this.progress=t,window.cancelAnimationFrame(this.requestAnimationId),this.animate()},t.prototype.init=function(){return i(this,void 0,void 0,(function(){var t;return r(this,(function(e){switch(e.label){case 0:return t=this.config,this.iterationCount=Math.floor(t.animationDurationMs/this.browserRefreshRate),this.setContainer(),this.setCanvas(),this.setNumericDisplay(),[4,this.loadImages()];case 1:return e.sent(),this.registerResizehandler(),this.updateCanvasSize(),this.animate(),[2]}}))}))},t.prototype.resize=function(){this.updateCanvasSize(),this.drawFrame(this.currentX)},t.prototype.updateCanvasSize=function(){var t=this.canvas,e=this.canvasContext,n=this.ratio,i=this.currentX,r=this.getTargetSize(),o=r.targetWidth,a=r.targetHeight,s=this.imageSize,u=s.imageWidth,c=s.imageHeight,l=this.getScale(o,a);this.width=l*u,this.height=l*c,this.currentX=i>0?i/this.width*o:0,t.width=this.width*n,t.height=this.height*n,t.style.width=this.width+"px",t.style.height=this.height+"px",e.scale(n,n)},t.prototype.animate=function(){var t=this.progress,e=this.width,n=this.step,i=this.currentX,r=t*e/100-i;this.requestAnimationId=window.requestAnimationFrame(n.bind(this,i,0,r))},t.prototype.step=function(t,e,n){var i=this,r=i.config,o=i.drawFrame,a=i.iterationCount,s=i.step,u=i.width,c=e/a,l=r.easingFunction(c)*n;l+=t,o.call(this,l),this.currentX=l,e++;var h=(this.progress-this.previousProgress)*c+this.previousProgress;this.updateNumericDisplay(h),e<=a&&(this.requestAnimationId=window.requestAnimationFrame(s.bind(this,t,e,n))),l===u&&r.onComplete()},t.prototype.drawFrame=function(t){var e=this,n=e.canvasContext,i=e.width,r=e.height,o=e.foreground,a=e.background,s=this.imageSize,u=s.imageWidth,c=s.imageHeight;n.clearRect(0,0,i,r);var l=t*(u/i);n.drawImage(o,0,0,l,c,0,0,t,r),n.drawImage(a,l,0,u,c,t,0,i,r)},t.prototype.updateNumericDisplay=function(t){var e=this.config,n=this.numericDisplay;e.showNumericDisplay&&(n.innerHTML=e.numericDisplayFormatter(t))},t.prototype.loadImage=function(t){if(!t)throw new Error("[ImageFillProgressBar] Invalid image source");return new Promise((function(e){var n=new Image;n.onload=function(){return e(n)},n.src=t}))},t.prototype.getTargetSize=function(){var t=this.container.getBoundingClientRect(),e=t.height,n=t.width;if(this.config.showNumericDisplay){var i=this.numericDisplayWrapper.getBoundingClientRect();e=t.height-i.height}return{targetHeight:e,targetWidth:n}},t.prototype.getScale=function(t,e){var n=this.imageSize,i=n.imageWidth,r=e/n.imageHeight,o=t/i;return Math.min(r,o)},t.prototype.resolveContainer=function(){var t=this.config.container,e="string"==typeof t?document.querySelector(t):t;if(!o.isElement(e))throw new Error("[ImageFillProgressBar] Invalid container");return e},t.prototype.cleanUp=function(){window.removeEventListener("resize",this.resize)},t.prototype.setCanvas=function(){this.canvas=this.container.querySelector("canvas"),this.canvasContext=this.canvas.getContext("2d")},t.prototype.setContainer=function(){this.container=this.resolveContainer(),this.container.innerHTML=this.template},t.prototype.setNumericDisplay=function(){var t=this.config;this.numericDisplay=this.container.querySelector(".numeric-display"),this.numericDisplayWrapper=this.container.querySelector(".numeric-display-wrapper"),this.numericDisplayWrapper.style.display=t.showNumericDisplay?"block":"none",this.updateNumericDisplay(this.progress)},t.prototype.loadImages=function(){return i(this,void 0,void 0,(function(){var t,e,n,i,o;return r(this,(function(r){switch(r.label){case 0:return e=(t=this).loadImage,n=t.config,i=this,[4,e(n.foregroundSrc)];case 1:return i.foreground=r.sent(),o=this,[4,e(n.backgroundSrc)];case 2:return o.background=r.sent(),[2]}}))}))},t.prototype.registerResizehandler=function(){window.addEventListener("resize",this.resize.bind(this))},t}();e.ImageFillProgressBar=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=function(t){return t instanceof Element||t instanceof HTMLDocument},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t/1)}}}]);